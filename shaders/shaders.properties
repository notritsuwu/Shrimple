iris.features.required=COMPUTE_SHADERS CUSTOM_IMAGES
iris.features.optional=SEPARATE_HARDWARE_SAMPLERS REVERSED_CULLING ENTITY_TRANSLUCENT BLOCK_EMISSION_ATTRIBUTE FADE_VARIABLE

photonics.enabled=true
photonics.useDeferredPass=false
photonics.enableGi=false
photonics.maxLights=512
photonics.maxSamples=16

#ifdef PHOTONICS_BLOCK_TINT_ENABLED
    photonics.alphaMode=block
#else
    photonics.alphaMode=none
#endif


profile.VANILLA= LIGHTING_MODE:0 !LIGHTING_COLORED !LIGHTING_REFLECT_ENABLED !SHADOWS_ENABLED !BLOOM_ENABLED !TONEMAP_ENABLED
profile.ENHANCED=LIGHTING_MODE:1  LIGHTING_COLORED  LIGHTING_REFLECT_ENABLED  SHADOWS_ENABLED  BLOOM_ENABLED  TONEMAP_ENABLED


screen.columns=2
screen=\
    [DEBUG] <profile> \
    <empty> <empty> \
    [WORLD] [MATERIAL] \
    [LIGHTING] [SHADOWS] \
    [EFFECTS] [POST] \
    [MODS]

screen.DEBUG=\
    DEBUG_VIEW DEBUG_WHITEWORLD

screen.WORLD=\
    [WORLD_OUTLINE] [WORLD_OVERWORLD] \
    <empty> [WORLD_NETHER] \
    <empty> [WORLD_END]

screen.WORLD_OUTLINE=\
    BLOCK_OUTLINE_TYPE BLOCK_OUTLINE_COLOR_R \
    BLOCK_OUTLINE_WIDTH BLOCK_OUTLINE_COLOR_G \
    BLOCK_OUTLINE_EMISSION BLOCK_OUTLINE_COLOR_B

screen.WORLD_OVERWORLD=\
    OVERWORLD_NIGHT_BRIGHTNESS

screen.WORLD_NETHER=\
    NETHER_BRIGHTNESS

screen.WORLD_END=\
    <empty>

screen.MATERIAL=\
    MATERIAL_FORMAT [MATERIAL_PARALLAX] \
    [MATERIAL_EMISSION]

screen.MATERIAL_PARALLAX=\
    MATERIAL_PARALLAX_ENABLED MATERIAL_PARALLAX_TYPE \
    MATERIAL_PARALLAX_DEPTH MATERIAL_PARALLAX_SAMPLES

screen.MATERIAL_EMISSION=\
    MATERIAL_EMISSION_SCALE MATERIAL_EMISSION_POWER

screen.LIGHTING=\
    LIGHTING_MODE LIGHTING_HAND \
    LIGHTING_COLORED LIGHTING_REFLECT_ENABLED \
    LIGHTING_VOXEL_SIZE

screen.SHADOWS=\
    SHADOWS_ENABLED sunPathRotation \
    SHADOW_RESOLUTION shadowDistance \
    SHADOW_AMBIENT SHADOW_CLOUDS

screen.EFFECTS=\
    [EFFECT_BLOOM] [EFFECT_SSAO]

screen.EFFECT_SSAO=\
    SSAO_ENABLED SSAO_SAMPLES

screen.EFFECT_BLOOM=\
    BLOOM_ENABLED BLOOM_STRENGTH

screen.POST=\
    [TAA] TONEMAP_ENABLED

screen.TAA=\
    TAA_ENABLED TAA_SHARPNESS

screen.MODS=\
    [MOD_PHOTONICS]

screen.MOD_PHOTONICS=\
    PHOTONICS_REFLECT_ENABLED PHOTONICS_HAND_LIGHT_ENABLED \
    PHOTONICS_BLOCK_TINT_ENABLED PHOTONICS_BLOCK_LIGHT_ENABLED \
    <empty> PHOTONICS_GI_ENABLED

sliders=\
    DEBUG_VIEW \
    OVERWORLD_NIGHT_BRIGHTNESS NETHER_BRIGHTNESS \
    BLOCK_OUTLINE_WIDTH BLOCK_OUTLINE_EMISSION BLOCK_OUTLINE_COLOR_R BLOCK_OUTLINE_COLOR_G BLOCK_OUTLINE_COLOR_B \
    sunPathRotation SHADOW_RESOLUTION shadowDistance SHADOW_AMBIENT \
    MATERIAL_PARALLAX_DEPTH MATERIAL_PARALLAX_SAMPLES \
    MATERIAL_EMISSION_SCALE MATERIAL_EMISSION_POWER \
    BLOOM_STRENGTH SSAO_SAMPLES TAA_SHARPNESS


voxelizeLightBlocks=true
oldLighting=false
oldHandLight=false

#if LIGHTING_MODE == 0
#    oldLighting=true
    separateAo=false
#else
#    oldLighting=false
    separateAo=true
#endif

#if defined(SHADOWS_ENABLED) || defined(LIGHTING_COLORED)
    shadow.enabled=true

    #ifdef LIGHTING_COLORED
        shadow.culling=reversed

        #ifndef SHADOWS_ENABLED
            shadowEntities=false
            shadowPlayer=false
        #endif
    #else
        shadow.culling=true
    #endif
#else
    shadow.enabled=false
#endif

##if defined(PHOTONICS) && defined(PHOTONICS_GI_ENABLED)
#    image.imgGI_Color=texGI_Color RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
#    image.imgGI_ColorPrev=texGI_ColorPrev RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
#    image.imgGI_Position=texGI_Position RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
#    image.imgGI_PositionPrev=texGI_PositionPrev RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
##endif

#ifndef LIGHTING_COLORED
    program.world-1/setup1.enabled=false
    program.world0/setup1.enabled=false
    program.world1/setup1.enabled=false
#endif

#if defined(SHADOWS_ENABLED) && defined(SHADOW_CLOUDS)
    customTexture.texClouds=minecraft:textures/environment/clouds.png
    image.imgCloudShadow=texCloudShadow RED R16F HALF_FLOAT false false 256 256
#else
    program.world-1/setup2.enabled=false
    program.world0/setup2.enabled=false
    program.world1/setup2.enabled=false
#endif

#ifdef LIGHTING_COLORED
    image.imgBlockLight=texBlockLight RGBA RGBA8 UNSIGNED_BYTE false false 256 256
    image.imgBlockMask=texBlockMask RED_INTEGER R16UI UNSIGNED_SHORT false false 256 256

    #if   LIGHTING_VOXEL_SIZE == 256
        image.imgVoxels=texVoxels RED_INTEGER R16UI UNSIGNED_SHORT true false 256 256 256
        image.imgFloodFillA=texFloodFillA RGBA RGBA8 UNSIGNED_BYTE false false 256 256 256
        image.imgFloodFillB=texFloodFillB RGBA RGBA8 UNSIGNED_BYTE false false 256 256 256
    #elif LIGHTING_VOXEL_SIZE == 128
        image.imgVoxels=texVoxels RED_INTEGER R16UI UNSIGNED_SHORT true false 128 128 128
        image.imgFloodFillA=texFloodFillA RGBA RGBA8 UNSIGNED_BYTE false false 128 128 128
        image.imgFloodFillB=texFloodFillB RGBA RGBA8 UNSIGNED_BYTE false false 128 128 128
    #elif LIGHTING_VOXEL_SIZE == 64
        image.imgVoxels=texVoxels RED_INTEGER R16UI UNSIGNED_SHORT true false 64 64 64
        image.imgFloodFillA=texFloodFillA RGBA RGBA8 UNSIGNED_BYTE false false 64 64 64
        image.imgFloodFillB=texFloodFillB RGBA RGBA8 UNSIGNED_BYTE false false 64 64 64
    #endif
#else
    program.world-1/shadowcomp.enabled=false
    program.world0/shadowcomp.enabled=false
    program.world1/shadowcomp.enabled=false
#endif

#program.world-1/prepare1.enabled=true
program.world0/prepare1.enabled=false
program.world1/prepare1.enabled=false

#if !defined(PHOTONICS) || !(defined(PHOTONICS_HAND_LIGHT_ENABLED) && defined(LIGHTING_HAND)) || LIGHTING_MODE == 0
    program.world-1/deferred1.enabled=false
    program.world0/deferred1.enabled=false
    program.world1/deferred1.enabled=false
#endif

#if !defined(PHOTONICS) || !defined(PHOTONICS_GI_ENABLED) || LIGHTING_MODE == 0
    program.world-1/deferred2.enabled=false
    program.world0/deferred2.enabled=false
    program.world1/deferred2.enabled=false

    program.world-1/deferred3.enabled=false
    program.world0/deferred3.enabled=false
    program.world1/deferred3.enabled=false
#endif

#if defined(PHOTONICS) && defined(PHOTONICS_BLOCK_LIGHT_ENABLED) && defined(PHOTONICS_LIGHT_DEBUG)
    image.imgLightDebug=texLightDebug RED_INTEGER R16UI UNSIGNED_SHORT true true 0.0625 0.0625
#endif

#if !defined(PHOTONICS) || !defined(PHOTONICS_BLOCK_LIGHT_ENABLED) || LIGHTING_MODE == 0
    program.world-1/deferred10.enabled=false
    program.world0/deferred10.enabled=false
    program.world1/deferred10.enabled=false

    program.world-1/deferred11.enabled=false
    program.world0/deferred11.enabled=false
    program.world1/deferred11.enabled=false
#endif

#if !defined(SSAO_ENABLED) || !(defined(VOXY) || defined(DISTANT_HORIZONS))
    program.world-1/deferred20.enabled=false
    program.world0/deferred20.enabled=false
    program.world1/deferred20.enabled=false

    program.world-1/deferred21.enabled=false
    program.world0/deferred21.enabled=false
    program.world1/deferred21.enabled=false
#endif

#ifdef LIGHTING_REFLECT_ENABLED
    customTexture.texLightmap=minecraft:dynamic/lightmap_1
#else
    program.world-1/composite1.enabled=false
    program.world0/composite1.enabled=false
    program.world1/composite1.enabled=false
#endif

blend.composite80=ONE ONE ONE ZERO
blend.composite81=ONE ONE ONE ZERO
blend.composite82=ONE ONE ONE ZERO
blend.composite83=ONE ONE ONE ZERO
blend.composite84=ONE ONE ONE ZERO
blend.composite85=ONE ONE ONE ZERO
blend.composite86=ONE ONE ONE ZERO
blend.composite87=ONE ONE ONE ZERO

#ifdef BLOOM_ENABLED
    flip.composite70.colortex0=true
#else
    program.world-1/composite70.enabled=false
    program.world0/composite70.enabled=false
    program.world1/composite70.enabled=false

    program.world-1/composite71.enabled=false
    program.world0/composite71.enabled=false
    program.world1/composite71.enabled=false

    program.world-1/composite72.enabled=false
    program.world0/composite72.enabled=false
    program.world1/composite72.enabled=false

    program.world-1/composite73.enabled=false
    program.world0/composite73.enabled=false
    program.world1/composite73.enabled=false

    program.world-1/composite74.enabled=false
    program.world0/composite74.enabled=false
    program.world1/composite74.enabled=false

    program.world-1/composite75.enabled=false
    program.world0/composite75.enabled=false
    program.world1/composite75.enabled=false

    program.world-1/composite76.enabled=false
    program.world0/composite76.enabled=false
    program.world1/composite76.enabled=false

    program.world-1/composite77.enabled=false
    program.world0/composite77.enabled=false
    program.world1/composite77.enabled=false

    program.world-1/composite80.enabled=false
    program.world0/composite80.enabled=false
    program.world1/composite80.enabled=false

    program.world-1/composite81.enabled=false
    program.world0/composite81.enabled=false
    program.world1/composite81.enabled=false

    program.world-1/composite82.enabled=false
    program.world0/composite82.enabled=false
    program.world1/composite82.enabled=false

    program.world-1/composite83.enabled=false
    program.world0/composite83.enabled=false
    program.world1/composite83.enabled=false

    program.world-1/composite84.enabled=false
    program.world0/composite84.enabled=false
    program.world1/composite84.enabled=false

    program.world-1/composite85.enabled=false
    program.world0/composite85.enabled=false
    program.world1/composite85.enabled=false

    program.world-1/composite86.enabled=false
    program.world0/composite86.enabled=false
    program.world1/composite86.enabled=false

    program.world-1/composite87.enabled=false
    program.world0/composite87.enabled=false
    program.world1/composite87.enabled=false
#endif

#ifdef TAA_ENABLED
    image.imgTAA=texTAA RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
    image.imgTAA_prev=texTAA_prev RGBA RGBA16F HALF_FLOAT false true 1.0 1.0
#else
    program.world1/composite91.enabled=false
    program.world0/composite91.enabled=false
    program.world-1/composite91.enabled=false

    program.world1/composite92.enabled=false
    program.world0/composite92.enabled=false
    program.world-1/composite92.enabled=false
#endif


uniform.float.nearPlane=near
uniform.float.farPlane=far * 5.0
#uniform.float.nearPlane=-gbufferProjection.2.3 / (gbufferProjection.2.2 + 1.0)
#uniform.float.farPlane=gbufferProjection.2.3 / (1.0 - gbufferProjection.2.2)
#uniform.float.nearPlane=gbufferProjection.2.3 / (gbufferProjection.2.2 - 1.0)
#uniform.float.farPlane=gbufferProjection.2.3 / (gbufferProjection.2.2 + 1.0)

uniform.float.far2=gbufferProjection.2.3 / (1.0 - gbufferProjection.2.2)
uniform.float.far3=gbufferProjection.2.3 / (gbufferProjection.2.2 + 1.0)

uniform.vec2.viewSize=vec2(viewWidth, viewHeight)

variable.float.jitter_x = frac(0.75487766624669276005 * frameCounter + 0.5) - 0.5
variable.float.jitter_y = frac(0.56984029099805326591 * frameCounter + 0.5) - 0.5
uniform.vec2.taa_offset = vec2(jitter_x / viewWidth, jitter_y / viewWidth)
